<div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Informacion complementaria</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <form method="POST" class='form-floating' name='registrarcaso' action='{% url 'infocreareditar' %}' id='formulario'>
         {% csrf_token %}
      <div class="modal-body">
        <div class="modal-lg d-flex flex-wrap flex-row">
          {% for field in forma_persona %}
        
        <label  for="{{ field.name }}">{{ field.label }}</label>
        {{ field }}
  
          {% endfor %}
</div>
      </div>
      <div class="modal-footer">
        <input type="button" class="btn btn-secondary" data-bs-dismiss="modal" value='cancelar'/>
        <input type="submit" class="btn btn-primary" value='confirmar'/>
  
      </div>
    </form>
    </div>
  </div>

  {% block js %}
<script type="text/javascript">
 let formulario = document.getElementById('formulario')
  formulario.addEventListener('submit', function (e) {
    e.preventDefault()

      const csrftoken = document.querySelector('[name=csrfmiddlewaretoken]').value;  
  let request = $.ajax({
    type: "POST",
    headers:{'X-CSRFToken':csrftoken,
    "X-Requested-With": "XMLHttpRequest"},
    url: "{% url 'infoajax' %}",
    dataType: 'json',
    data:$('#formulario').serialize(),
    success: function (data) {
      if(data.msg=='success') {
        Swal.fire(
          'Aviso registro exitoso', data.msg,
          'warning'
        )  
      }
  }
    
  })
  request.done(function(response) {

    window.location.reload()
     // Cierra el modal, oculta el identificador eliminado, etc.
 });

} 

) 
</script>
  {% endblock %}